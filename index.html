<!doctype html>
<html lang="en">

    <head>
        <meta charset="utf-8">

        <title>Repose</title>

        <meta name="description" content="What it does and Why you should use it?">
        <meta name="author" content="Kari Davis">

        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">

        <link rel="stylesheet" href="css/reveal.css">
        <!-- <link rel="stylesheet" href="css/theme/black.css" id="theme"> -->
        <link rel="stylesheet" href="css/theme/white.css" id="theme">

        <!-- Code syntax highlighting -->
        <link rel="stylesheet" href="lib/css/zenburn.css">

        <!-- Make Bullets Smaller -->
        <link rel="stylesheet" href="css/custom.css">

        <!-- Printing and PDF exports -->
        <!-- <link rel="stylesheet" media="print" href="reveal.js/css/print/pdf.css" /> -->

        <!-- Printing and PDF exports -->
        <script>
            var link = document.createElement( 'link' );
            link.rel = 'stylesheet';
            link.type = 'text/css';
            link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
            document.getElementsByTagName( 'head' )[0].appendChild( link );
        </script>

        <!--[if lt IE 9]>
        <script src="lib/js/html5shiv.js"></script>
        <![endif]-->
    </head>

    <body>
        <div class="reveal">

            <!-- Any section element inside of this container is displayed as a slide -->
            <div class="slides">
                <section>
                    <h2>What is Repose?</h2>

                    <h2>How can it help you deliver faster?</h2>

                    <p>Repose Development Team</p>

                    <p>Visit our website: <a href="http://www.openrepose.org">www.openrepose.org</a></p>

                    <BR> <BR>
                </section>

                <section>
                    <h6>Agenda</h6>
                    <ul>
                        <li>Introduction and Overview </li>
                        <li>2015 Features </li>
                        <li>Authentication/Authorization</li>
                        <li>User Access Events</li>
                        <li>Rate Limiting </li>
                        <li>API Coverage </li>
                        <li>Repose Performance & Scaling </li>
                        <li>What's Coming in 2016 </li>
                    </ul>
                    <BR> <BR>
                </section>


                <section>
                    <h2>Team Introduction</h2>
                    <ul>
                        <li>Kari Davis - Dev Mgr/Product Mgr</li>
                        <li>Adrian George - Tech Lead </li>
                        <li>Damien Johnson - Developer</li>
                        <li>Mario Lopez - Developer</li>
                        <li>Bill Scheidegger - Developer</li>
                        <li>Jenny Vo - QE</li>
                        <li>Jorge Williams - Architect</li>
                        <li>3 in Austin, 4 @ the Castle</li>
                    </ul>
                    <aside class="notes">
                        <ul>
                            <li>
                                At the Castle, we sit over near Nebops.  In Austin, we sit by the product conference rooms in the back.
                            </li>
                        </ul>
                    </aside>
                    <BR> <BR>
                </section>


                <section>
                    <h2>Repose Product Overview</h2>
                    <p>Repose is a Reverse Proxy built on JEE Servlet Filters.</p>
                    <ul>
                        <li>Reusable features that <u>save time</u> in development</li>
                        <li><u>Faster product deliveries</u> with templated configs</li>
                        <li>A <u>layer of abstraction</u> from underlying systems</li>
                        <li>A product that is <u>Battle Tested</u></li>
                        <li>A system with <u>Proven Performance</u></li>
                        <li>An open source, <u>Racker supported</u> product</li>
                    </ul>
                    <aside class="notes">
                        <ul>
                            <li>Some use Repose to abstract out one or two common tasks instead of developing them
                                team by team and potentially coming out with different solutions.</li>
                            <li>Internally, DevOps have basic Chef, Puppet, and Ansible templates.</li>
                            <li>We have our own <a href="http://repo.openrepose.org/">RPM and Deb repository</a> that
                                can be added for easy installation</li>
                            <li>We run on most platforms: many linux, windows, mac</li>
                        </ul>
                    </aside>
                    <BR> <BR> <BR>
                </section>

                <section>
                    <h2>Repose Filters</h2>
                    <img data-src="./img/ReposeOS.png"/>
                    <table>
                        <thead>
                        <tr>
                            <th>Authentication</th>
                            <th>Rate Limiting</th>
                            <th>Req/Resp Mods</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr>
                            <td>Keystone</td>
                            <td>By IP, IPs</td>
                            <td>Add/Strip/Modify hdr</td>
                        </tr>
                        <tr>
                            <td>RBAC</td>
                            <td>By Role</td>
                            <td>Content Translation</td>
                        </tr>
                        <tr>
                            <td>Dedicated Auth</td>
                            <td>By Header</td>
                            <td>Hdr/URI Normalization</td>
                        </tr>
                        </tbody>
                    </table>
                    <aside class="notes">
                        <ul>
                            <li>Repose sits in front of the origin service and is configured by the OS team.</li>
                            <li>Filters can be layered and the request, later the response goes through the filter chain one by one.</li>
                            <li>The system model defines the filter chain and requests get headers added to help the next filter in the chain.</li>
                            <li>Repose offers a layer of abstraction. If we wanted to change out the identity back end, it would be configs in Repose and not development on the OS dev team.</li>
                        </ul>
                    </aside>
                </section>


                <section>
                    <h2>Recent Features</h2>
                        <ul>
                            <li>Valkyrie Dedicated Auth</li>
                            <li>API Coverage Handler</li>
                            <li>Tracing Header</li>
                            <li>Log4j 2x Upgrade</li>
                            <li>IRI Validator</li>
                            <li>CORS Header support</li>
                            <li>Keystone v2v2 rewrite</li>
                            <li>Rate Limit by Multiple Groups</li>
                        </ul>
                    <aside class="notes">
                        <ul>
                            <li>Valkryie talks to EPS and offers caching on top of EPS. Repose also caches, minimizing calls if cache is still valid.</li>
                            <li>With API Coverage, you have the ability to generate a state machine of method calls a request hops through. Test Coverage as well.</li>
                            <li>Tracing header allows you to tie all the logs of a request back to a single request via the x-trans-id header.</li>
                            <li>Log4J2x</li>
                            <li>IRI Validator allows the request to be rejected based on invalid IRI thus ensuring your OS won't choke on an invalid URI </li>
                            <li>CORS Header - Repose now supports cross origin resource sharing. </li>
                            <li>Keystone v2v2 rewrite for maintainability and performance. </li>
                            <li>Rate Limiting how supports multiple groups and a new filter allows you to control the map to xppuser or xppgroups.</li>
                            <li></li>
                        </ul>
                    </aside>
                    <BR> <BR>
                </section>


                <section>
                    <h2>Repose and Authentication </h2>
                    <ul>
                        <li>AuthN</li>
                        <ul>
                            <li>Impersonation Behavior</li>
                            <li>Racker Tokens</li>
                        </ul>
                            <li>AuthZ</li>
                            <li>Valkyrie for Dedicated Auth</li>
                                <ul>
                                    <li>Account Admins</li>
                                    <li>List Culling</li>
                                </ul>
                            <li>RBAC</li>
                        <ul>
                            <li>Validator</li>
                            <li>Simple RBAC</li>
                        </ul>
                    </ul>
                    <BR> <BR>
                </section>


                <section>
                    <h2>Repose User Access Events</h2>
                    <img data-src="./img/UserAccessEvents.png" />
                </section>

                <section>
                    <h2>Repose Rate Limiting</h2>

                     <img data-src="./img/RateLimitBig.png"
                              alt="Rate Limiting Config"/>
                    <BR> <BR>
                </section>

                <section>
                    <h2>API Coverage Documentation</h2>

                    <ul>
                        <li>Uses Graphviz or a similar visualization tool  </li>
                        <li>When API Validator enable-api-coverage is true, API Validator will capture your application states </li>
                        <li>Run the visualization tool using the .dot file created above </li>
                    </ul>
                    <img data-src="./img/APICvg.png"/>
                    <BR>
                </section>


                <section>
                    <h2>A Real API Coverage Graphic</h2>
                    <img data-src="./img/URIState.png"/>
                    <img data-src="./img/APICvgComplex.png"/>
                </section>


                <section>
                    <h2>Repose Performance</h2>
                    <p>Tested on a Rackspace Performance 2GB VM</p>
                    <table>
                        <thead>
                        <tr>
                            <th>PassThrough</th>
                            <th>Common</th>
                            <th>Most Complex</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr>
                            <td>8000 rps</td>
                            <td>2000 rps</td>
                            <td>2000 rps</td>
                        </tr>
                        <tr>
                            <td>1ms overhead</td>
                            <td>4-5ms overhead</td>
                            <td>8ms overhead</td>
                        </tr>
                        </tbody>
                    </table>
                    <p>
                        The internal Rackspace Keystone Identity Provider sees ~1000 rps.
                        We test double that to ensure Repose will support their highest traffic service.
                    </p>
                    <p>
                        Repose scales <b>Horizontally</b> and <b>Vertically</b>.
                    </p>
                    <aside class="notes">
                        <ul>
                            <li>
                                The Origin Services we are in front have all fallen down before Repose during stress
                                testing.
                            </li>
                            <li>Then they add Rate Limiting to their filter stack.</li>
                        </ul>
                    </aside>
                    <BR>
                </section>

                <section>
                    <h2>Additional Features</h2>
                    <ul>
                        <li>
                            <b>DataStore</b>
                            <ul>
                                <li>Local OR Distributed</li>
                                <li>Currently only uses Ehcache</li>
                                <li>Pure JSR-107 on backlog (swapping)</li>
                            </ul>
                        </li>
                        <li>
                            <b>HTTP Connection Pooling</b>
                            <ul>
                                <li>Is configurable</li>
                                <li>Supports special cases (e.g. long timeout)</li>
                                <li>Default is one pool</li>
                            </ul>
                        </li>
                        <li>
                            <b>Centralized Response Modification</b>
                            <ul>
                                <li>Provides consistent access to the Context for creating Response messages</li>
                            </ul>
                        </li>
                    </ul>
                </section>

                <section>
                    <h2>Future Features</h2>
                    <ul>
                        <li>Java8/Scala 2.11 Upgrade</li>
                        <li>Repose Admin Tools</li>
                        <li>Metrics Upgrade</li>
                        <li>Versioned Docs</li>
                        <li>Servlet Spec Compliance</li>
                        <li>Phone Home Service</li>
                        <li>Seamless Experience feature work</li>
                        <li>Identity feature work</li>
                        <li>Self Validating Tokens</li>
                    </ul>
                </section>

                <section style="text-align: left;">
                    <h2><b>THE END</b></h2>
                </section>
            </div>
        </div>

        <script src="lib/js/head.min.js"></script>
        <script src="js/reveal.js"></script>

        <script>
            // Full list of configuration options available at:
            // https://github.com/hakimel/reveal.js#configuration
            Reveal.initialize({
                controls: true,
                progress: true,
                history: true,
                center: true,

                transition: 'slide', // none/fade/slide/convex/concave/zoom

                // Optional reveal.js plugins
                dependencies: [
                    { src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
                    { src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
                    { src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
                    { src: 'plugin/highlight/highlight.js', async: true, condition: function() { return !!document.querySelector( 'pre code' ); }, callback: function() { hljs.initHighlightingOnLoad(); } },
                    { src: 'plugin/zoom-js/zoom.js', async: true },
                    { src: 'plugin/notes/notes.js', async: true }
                ]
            });
        </script>
    </body>
</html>
